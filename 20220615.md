## 들어가며

### 스터디 전의 함수형
![Function1](http://www.tcpschool.com/lectures/img_codingmath_72.png)
![Function2](http://www.tcpschool.com/lectures/img_codingmath_16.png)

### 스터디 후의 함수형
![ADT1](https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,f_auto,q_auto:eco,dpr_1/y6i7pk06kybqxrvchak5)
![ADT2](https://t1.daumcdn.net/cfile/tistory/234E28405362FB1231)
![Exception1](https://tecoble.techcourse.co.kr/static/3554ff01e20397c0e4a41775891f1aaf/9e0c5/exception.png)

## 함수형에 대한 오해 및 잘못된 접근

### Either와 Option은 함수의 결과로 보기 어렵다

수학적인 함수는 하나의 x가 들어오면 하나의 y가 추출되어야 하는 포맷을 나타낸다. 이러한 배경으로 함수형의 Either나 Option을 바라보면 많은 어색함을 느낀다. 왜냐하면 Either는 래퍼 클래스로 하나의 값을 반환하는 것이 아니라 여러 값을 반환할 수 있는 형태로 느껴지기 때문이다. 마치 하나의 input에 여러 output이 나오는 것처럼 보인다. 하지만 이 부분은 대수 타입에 대한 이해가 부족했기 떄문이다. 

우리가 Int를 반환한다고 했을 때와 Either를 반환한다고 했을 때 함수형에 있어서는 다른 것이 없다. Int를 반환한다고 하면 그 값이 1, 2, 3과 같은 숫자중 하나를 반환할 것이고, input에 따라 그에 맞는 output을 반환할 것이라 생각한다. Either 또한 Int와 마찬가지이다. Either 또한 input에 따라서 내부에 실패 객체가 있을 수 있고 성공 객체가 있을 수 있다. 그렇기 때문에 함수형에 있어서 반환 타입이  Int이든 Either이든 중요하지 않고 input이 들어오면 Either 안에 있는 값도 동일한 값이여야 한다는 중요하다.

Either와 Int는 타입이다. 함수는 다른 함수의 반환 값을 input으로 받아서 새로운 값을 반환하며 함수의 합성이 진행된다. 수학에 있어서 함수의 결과 값은 항상 숫자 타입이기 때문에 함수의 합성이 계속 이루어질 수 있지만, 프로그래밍에서 함수는 여러 타입이 반환될 수 있기 때문에 output과 input이 같아야 함수의 합성이 가능하다. 이러한 점에서 Either를 사용하면 실제 내부 타입은 감추면서 모두 동일한 타입으로 인식할 수 있게 된다. 이렇게 Either를 대수타입으로 쓸 수 있다.

### 함수형을 하려면 상태를 가지면 안 된다

함수형을 사용하더라도 DB에 있는 값이나 외부 API를 호출할 수 있다. 개발을 하다보면 상태를 가질 수 밖에 없는 경우가 발생한다. 함수형은 input 값을 이용해서만 output 결과를 만들어야 할 것 같은데 이런 경우에는 함수형을 사용할 수 없는 것일까? 그렇지 않다. 이러한 제약사항은 순수 함수에만 해당되기 떄문이다. 

만약 Kotlin을 사용한다면 객체지향 프로그래밍과 함수형 프로그래밍을 같이 섞어서 쓰면서 코딩을 진행할 수 있다. DB에 있는 값이나 외부 API를 호출하는 부분을 격리시키고 그 값을 단일한 값을 반환하면 외부에서는 함수형으로 프로그래밍을 진행할 수 있다. 

### 결국에 예외가 발생 코드에 대한 핸들링이 다 있어야 한다.

예외가 발생할 수 있는 부분을 격리시켜서 예외를 발생하지 않게 만들면 예외에 대해서 신경쓰지 않아도 괜찮다. 예외라는 것도 결국 어떠한 메소드의 반환 값 중에 하나이다. 예외를 던져서 결과 값에 표현을 안 했을 뿐이지 예외 또한 결과 값에 표현할 수 있다. 함수형에서는 이러한 예외를 던지지 않고 catch해서 결과 값으로 반환하는 것으로 예외에 대해서 신경을 쓰지 않게 만들어야 한다. 만약 예외에 대해서 신경 써야 한다면 함수형에 대한 팀원 모두의 이해도가 다른 것이기 때문에 스터디나 코드 리뷰를 통해 해소해야 한다.
